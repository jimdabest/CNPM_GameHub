<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="632px" preserveAspectRatio="none" style="width:1648px;height:632px;background:#FFFFFF;" version="1.1" viewBox="0 0 1648 632" width="1648px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="323.2656" style="stroke:#000000;stroke-width:1.5;" width="1631.5659" x="10" y="257.2266"/><g><title>Player</title><rect fill="#000000" fill-opacity="0.00000" height="561.1953" width="8" x="44.7827" y="36.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="48" x2="48" y1="36.2969" y2="597.4922"/></g><g><title>WebApp</title><rect fill="#000000" fill-opacity="0.00000" height="561.1953" width="8" x="319.8833" y="36.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="323.5366" x2="323.5366" y1="36.2969" y2="597.4922"/></g><g><title>Controller</title><rect fill="#000000" fill-opacity="0.00000" height="561.1953" width="8" x="568.2222" y="36.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="571.6357" x2="571.6357" y1="36.2969" y2="597.4922"/></g><g><title>Service</title><rect fill="#000000" fill-opacity="0.00000" height="561.1953" width="8" x="802.8691" y="36.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="805.9985" x2="805.9985" y1="36.2969" y2="597.4922"/></g><g><title>Infrastructure</title><rect fill="#000000" fill-opacity="0.00000" height="561.1953" width="8" x="1148.9683" y="36.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1152.915" x2="1152.915" y1="36.2969" y2="597.4922"/></g><g><title>Database</title><rect fill="#000000" fill-opacity="0.00000" height="561.1953" width="8" x="1587.1655" y="36.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1590.7651" x2="1590.7651" y1="36.2969" y2="597.4922"/></g><g class="participant participant-head" data-participant="Player"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="57.5654" x="20" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43.5654" x="27" y="24.9951">Player</text></g><g class="participant participant-tail" data-participant="Player"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="57.5654" x="20" y="596.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43.5654" x="27" y="616.4873">Player</text></g><g class="participant participant-head" data-participant="WebApp"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="72.6934" x="287.5366" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.6934" x="294.5366" y="24.9951">WebApp</text></g><g class="participant participant-tail" data-participant="WebApp"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="72.6934" x="287.5366" y="596.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.6934" x="294.5366" y="616.4873">WebApp</text></g><g class="participant participant-head" data-participant="Controller"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83.1729" x="530.6357" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69.1729" x="537.6357" y="24.9951">Controller</text></g><g class="participant participant-tail" data-participant="Controller"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83.1729" x="530.6357" y="596.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69.1729" x="537.6357" y="616.4873">Controller</text></g><g class="participant participant-head" data-participant="Service"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65.7412" x="773.9985" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51.7412" x="780.9985" y="24.9951">Service</text></g><g class="participant participant-tail" data-participant="Service"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65.7412" x="773.9985" y="596.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51.7412" x="780.9985" y="616.4873">Service</text></g><g class="participant participant-head" data-participant="Infrastructure"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110.1064" x="1097.915" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96.1064" x="1104.915" y="24.9951">Infrastructure</text></g><g class="participant participant-tail" data-participant="Infrastructure"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110.1064" x="1097.915" y="596.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96.1064" x="1104.915" y="616.4873">Infrastructure</text></g><g class="participant participant-head" data-participant="Database"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80.8008" x="1550.7651" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66.8008" x="1557.7651" y="24.9951">Database</text></g><g class="participant participant-tail" data-participant="Database"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80.8008" x="1550.7651" y="596.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66.8008" x="1557.7651" y="616.4873">Database</text></g><g class="message" data-participant-1="Player" data-participant-2="WebApp"><line style="stroke:#181818;stroke-width:1;" x1="321.8833" x2="311.8833" y1="67.4297" y2="63.4297"/><line style="stroke:#181818;stroke-width:1;" x1="321.8833" x2="311.8833" y1="67.4297" y2="71.4297"/><line style="stroke:#181818;stroke-width:1;" x1="48.7827" x2="322.8833" y1="67.4297" y2="67.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159.9355" x="55.7827" y="62.3638">Y&#234;u c&#7847;u &#273;&#7893;i qu&#224; (itemId)</text></g><g class="message" data-participant-1="WebApp" data-participant-2="Controller"><line style="stroke:#181818;stroke-width:1;" x1="570.2222" x2="560.2222" y1="96.5625" y2="92.5625"/><line style="stroke:#181818;stroke-width:1;" x1="570.2222" x2="560.2222" y1="96.5625" y2="100.5625"/><line style="stroke:#181818;stroke-width:1;" x1="323.8833" x2="571.2222" y1="96.5625" y2="96.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224.3389" x="330.8833" y="91.4966">G&#7917;i request `redeemItem(itemId)`</text></g><g class="message" data-participant-1="Controller" data-participant-2="Service"><line style="stroke:#181818;stroke-width:1;" x1="804.8691" x2="794.8691" y1="125.6953" y2="121.6953"/><line style="stroke:#181818;stroke-width:1;" x1="804.8691" x2="794.8691" y1="125.6953" y2="129.6953"/><line style="stroke:#181818;stroke-width:1;" x1="572.2222" x2="805.8691" y1="125.6953" y2="125.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139.7056" x="579.2222" y="120.6294">Y&#234;u c&#7847;u x&#7917; l&#253; &#273;&#7893;i qu&#224;</text></g><g class="message" data-participant-1="Service" data-participant-2="Infrastructure"><line style="stroke:#181818;stroke-width:1;" x1="1150.9683" x2="1140.9683" y1="154.8281" y2="150.8281"/><line style="stroke:#181818;stroke-width:1;" x1="1150.9683" x2="1140.9683" y1="154.8281" y2="158.8281"/><line style="stroke:#181818;stroke-width:1;" x1="806.8691" x2="1151.9683" y1="154.8281" y2="154.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="322.0991" x="813.8691" y="149.7622">Y&#234;u c&#7847;u l&#7845;y th&#244;ng tin qu&#224; v&#224; &#273;i&#7875;m c&#7911;a ng&#432;&#7901;i ch&#417;i</text></g><g class="message" data-participant-1="Infrastructure" data-participant-2="Database"><line style="stroke:#181818;stroke-width:1;" x1="1589.1655" x2="1579.1655" y1="183.9609" y2="179.9609"/><line style="stroke:#181818;stroke-width:1;" x1="1589.1655" x2="1579.1655" y1="183.9609" y2="187.9609"/><line style="stroke:#181818;stroke-width:1;" x1="1152.9683" x2="1590.1655" y1="183.9609" y2="183.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="317.1226" x="1159.9683" y="178.895">Truy v&#7845;n &#273;i&#7875;m c&#7911;a ng&#432;&#7901;i ch&#417;i v&#224; gi&#225; tr&#7883; qu&#224; t&#7863;ng</text></g><g class="message" data-participant-1="Database" data-participant-2="Infrastructure"><line style="stroke:#181818;stroke-width:1;" x1="1153.9683" x2="1163.9683" y1="213.0938" y2="209.0938"/><line style="stroke:#181818;stroke-width:1;" x1="1153.9683" x2="1163.9683" y1="213.0938" y2="217.0938"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1152.9683" x2="1590.1655" y1="213.0938" y2="213.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.292" x="1169.9683" y="208.0278">Tr&#7843; v&#7873; &#273;i&#7875;m hi&#7879;n t&#7841;i v&#224; gi&#225; tr&#7883; qu&#224;</text></g><g class="message" data-participant-1="Infrastructure" data-participant-2="Service"><line style="stroke:#181818;stroke-width:1;" x1="807.8691" x2="817.8691" y1="242.2266" y2="238.2266"/><line style="stroke:#181818;stroke-width:1;" x1="807.8691" x2="817.8691" y1="242.2266" y2="246.2266"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="806.8691" x2="1151.9683" y1="242.2266" y2="242.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89.2925" x="823.8691" y="237.1606">Tr&#7843; v&#7873; d&#7919; li&#7879;u</text></g><path d="M10,257.2266 L74.4429,257.2266 L74.4429,264.3594 L64.4429,274.3594 L10,274.3594 L10,257.2266" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="323.2656" style="stroke:#000000;stroke-width:1.5;" width="1631.5659" x="10" y="257.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="25" y="270.2935">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="103.6943" x="89.4429" y="269.437">[&#272;&#7911; &#273;i&#7875;m &#273;&#7875; &#273;&#7893;i]</text><g class="message" data-participant-1="Service" data-participant-2="Infrastructure"><line style="stroke:#181818;stroke-width:1;" x1="1150.9683" x2="1140.9683" y1="295.4922" y2="291.4922"/><line style="stroke:#181818;stroke-width:1;" x1="1150.9683" x2="1140.9683" y1="295.4922" y2="299.4922"/><line style="stroke:#181818;stroke-width:1;" x1="806.8691" x2="1151.9683" y1="295.4922" y2="295.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220.5684" x="813.8691" y="290.4263">Y&#234;u c&#7847;u tr&#7915; &#273;i&#7875;m v&#224; ghi nh&#7853;n qu&#224;</text></g><g class="message" data-participant-1="Infrastructure" data-participant-2="Database"><line style="stroke:#181818;stroke-width:1;" x1="1589.1655" x2="1579.1655" y1="324.625" y2="320.625"/><line style="stroke:#181818;stroke-width:1;" x1="1589.1655" x2="1579.1655" y1="324.625" y2="328.625"/><line style="stroke:#181818;stroke-width:1;" x1="1152.9683" x2="1590.1655" y1="324.625" y2="324.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="414.1973" x="1159.9683" y="319.5591">C&#7853;p nh&#7853;t `points = points - item_cost` v&#224; th&#234;m b&#7843;n ghi &#273;&#7893;i qu&#224;</text></g><g class="message" data-participant-1="Database" data-participant-2="Infrastructure"><line style="stroke:#181818;stroke-width:1;" x1="1153.9683" x2="1163.9683" y1="353.7578" y2="349.7578"/><line style="stroke:#181818;stroke-width:1;" x1="1153.9683" x2="1163.9683" y1="353.7578" y2="357.7578"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1152.9683" x2="1590.1655" y1="353.7578" y2="353.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.6079" x="1169.9683" y="348.6919">C&#7853;p nh&#7853;t th&#224;nh c&#244;ng</text></g><g class="message" data-participant-1="Infrastructure" data-participant-2="Service"><line style="stroke:#181818;stroke-width:1;" x1="807.8691" x2="817.8691" y1="382.8906" y2="378.8906"/><line style="stroke:#181818;stroke-width:1;" x1="807.8691" x2="817.8691" y1="382.8906" y2="386.8906"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="806.8691" x2="1151.9683" y1="382.8906" y2="382.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.0083" x="823.8691" y="377.8247">X&#225;c nh&#7853;n c&#7853;p nh&#7853;t</text></g><g class="message" data-participant-1="Service" data-participant-2="Controller"><line style="stroke:#181818;stroke-width:1;" x1="573.2222" x2="583.2222" y1="412.0234" y2="408.0234"/><line style="stroke:#181818;stroke-width:1;" x1="573.2222" x2="583.2222" y1="412.0234" y2="416.0234"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="572.2222" x2="805.8691" y1="412.0234" y2="412.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210.647" x="589.2222" y="406.9575">Tr&#7843; v&#7873; th&#244;ng tin qu&#224; t&#7863;ng &#273;&#227; &#273;&#7893;i</text></g><g class="message" data-participant-1="Controller" data-participant-2="WebApp"><line style="stroke:#181818;stroke-width:1;" x1="324.8833" x2="334.8833" y1="441.1563" y2="437.1563"/><line style="stroke:#181818;stroke-width:1;" x1="324.8833" x2="334.8833" y1="441.1563" y2="445.1563"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="323.8833" x2="571.2222" y1="441.1563" y2="441.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160.3291" x="340.8833" y="436.0903">G&#7917;i ph&#7843;n h&#7891;i th&#224;nh c&#244;ng</text></g><g class="message" data-participant-1="WebApp" data-participant-2="Player"><line style="stroke:#181818;stroke-width:1;" x1="49.7827" x2="59.7827" y1="470.2891" y2="466.2891"/><line style="stroke:#181818;stroke-width:1;" x1="49.7827" x2="59.7827" y1="470.2891" y2="474.2891"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="48.7827" x2="322.8833" y1="470.2891" y2="470.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="251.1006" x="65.7827" y="465.2231">Hi&#7875;n th&#7883; th&#244;ng b&#225;o &#273;&#7893;i qu&#224; th&#224;nh c&#244;ng</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="10" x2="1641.5659" y1="479.2891" y2="479.2891"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="103.603" x="15" y="489.4995">[Kh&#244;ng &#273;&#7911; &#273;i&#7875;m]</text><g class="message" data-participant-1="Service" data-participant-2="Controller"><line style="stroke:#181818;stroke-width:1;" x1="573.2222" x2="583.2222" y1="514.2266" y2="510.2266"/><line style="stroke:#181818;stroke-width:1;" x1="573.2222" x2="583.2222" y1="514.2266" y2="518.2266"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="572.2222" x2="805.8691" y1="514.2266" y2="514.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162.0112" x="589.2222" y="509.1606">Tr&#7843; v&#7873; l&#7895;i kh&#244;ng &#273;&#7911; &#273;i&#7875;m</text></g><g class="message" data-participant-1="Controller" data-participant-2="WebApp"><line style="stroke:#181818;stroke-width:1;" x1="324.8833" x2="334.8833" y1="543.3594" y2="539.3594"/><line style="stroke:#181818;stroke-width:1;" x1="324.8833" x2="334.8833" y1="543.3594" y2="547.3594"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="323.8833" x2="571.2222" y1="543.3594" y2="543.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.0005" x="340.8833" y="538.2935">G&#7917;i ph&#7843;n h&#7891;i l&#7895;i</text></g><g class="message" data-participant-1="WebApp" data-participant-2="Player"><line style="stroke:#181818;stroke-width:1;" x1="49.7827" x2="59.7827" y1="572.4922" y2="568.4922"/><line style="stroke:#181818;stroke-width:1;" x1="49.7827" x2="59.7827" y1="572.4922" y2="576.4922"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="48.7827" x2="322.8833" y1="572.4922" y2="572.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.2324" x="65.7827" y="567.4263">Hi&#7875;n th&#7883; th&#244;ng b&#225;o l&#7895;i</text></g><!--SRC=[dLDDQnin4BtdLyonFVWF61eeARIXbq03JKwrBAjUKLcxqMfDVImvzD1BGoaz5M922QI4zb08hEXfJVw7_ab7qjhMUhVvMZ1hjFFUc_Sqan6bEUKPaHhs19anjGNuPD7nQpPyccMjuvrKQfKAqO5unTIKKzOwtvLl5ScrAgWkLFlpCwB9aEHioty9tVIsjuD-7mwhYmAeBSyBM9nOyvN3KL6TmYEksMHtzDY3GYs2rjtruRarbnmKEofOhc6Ws8WX0b5BwC1Zrn34rnOQgk-H1qJrDvRtoBeOOKs73RImvOyPwAJw8yUWkGpTJ_6tEE7M74-mpfmJaEFhtzPyvq2Jwpdt_4rMb5acrOTzLSnWYjJoHXglC-RL7BIovbFGrhQyacEli2JiTNZOLxOyGmtpOIMHuEkZT0JTr5rTnw56b2DhVe5mV8L74Q5XyHajhCHSsiTrvhxapf6xXdwkU7oV2GUPsF9Ihlky9U4ThCu228SdIxdKEJo1-ayFt0ozeMck1ru1B_XY0aFq9xtQvgpSbdP33ibEPGBKpSp_UerpFQZcTEcFHaIjs3Os9BgFpG4DGu8sghFDEuWM9bhJi6rPuXD8hFd2kstKguh8iEbzUE7k2QSgSMDKzp6ivcbZtLjSJEGCNePgLxWQd7kO5jPyu_3k9f8xc_LS3t6v1Z8v-WS0]--></g></svg>